---
description: Leaply project guidelines and context for AI assistance
# This rule applies to all TypeScript and TSX files in the app, components, and lib
# folders.  It is applied intelligently by Cursor based on the description and
# file patterns.  Set alwaysApply to false so the agent decides when to include
# it based on relevance.
globs:
  - app/**/*.tsx
  - components/**/*.tsx
  - lib/**/*.ts
alwaysApply: false
---

# Leaply Project Overview

*Leaply* is an AI‑powered study‑abroad platform built with Next.js 14.  The user
journey follows this sequence: **Landing page → Onboarding → Explore
universities → Application dashboard → Leaply chatbot**.  Pages should be
implemented using the App Router and **React Server Components** by default.
Add `'use client'` only when interactive behaviour (event handlers, local
state) is required.  For the demo, all data is mocked or pre‑populated and no
network requests should be made.

# Tech stack and coding guidelines

- **Next.js 14** with the App Router.  Use server actions and
  Turbopack; do not create legacy `pages/` routes.  Each folder under
  `app/` corresponds to a route with `page.tsx` as the entry point and
  optional `layout.tsx` for shared UI.  Use `layout.tsx` for shared
  navigation (e.g., Navbar, Footer).
- **TypeScript** for all files.  Prefer `interface` over type aliases
  when defining object shapes.  Make types explicit where reasonable.
- **Tailwind CSS** as the primary styling solution.  Compose layouts with
  utility classes; avoid CSS modules or inline style tags.  When
  implementing UI components, copy base components from **shadcn/ui** into
  `components/ui` and customise them using Tailwind.  Use **Zustand** for
  global state (e.g., user profile, saved universities, application
  progress) and keep component state local with React hooks when
  possible.
- **Framer Motion** for animations.  Page transitions should last
  **300–400 ms**, hover effects about **200 ms**, and use `easeOut` for
  entering and `easeIn` for exiting animations.  Stagger child
  animations in lists and grids for a polished experience.
- **Next.js Image component** for all images.  Provide `width` and
  `height` attributes and use `loading="lazy"` for images below the
  fold.  Keep animations constrained to `transform` and `opacity` to
  leverage GPU acceleration.

# UI/UX and Colour Palette

- Use the **Leaply colour palette** throughout the UI:
  * Primary green (`#95CA55`) for primary buttons, active navigation
    items and progress bars.
  * Dark grey (`#3F3C3B`) for headings and primary text.  Mid grey
    (`#6D6866`) for secondary text and borders.  Light grey (`#F5F5F5`)
    for backgrounds.  Optional accent sky blue (`#4CA8D3`) for
    informational messages and warning orange (`#E8A634`) for alerts.
  * Ensure sufficient contrast to meet **WCAG 2.1 AA** standards.
- Provide skeleton loaders (using shadcn `Skeleton` or custom) while data
  loads or when simulating network requests in the demo.
- Structure pages according to the **Feature Specification** in
  `docs/feature-spec.md`:
  1. **Landing page** with hero section and CTAs to sign up or explore
     universities.
  2. **Onboarding**: sign‑up/login, profile information, preference
     quiz, and summary with recommendations.
  3. **University discovery**: search/filter list and detailed pages
     (name, location, ranking, tuition, programs, actions to save/apply).
  4. **Dashboard**: overview of saved universities and applications,
     application details with tasks and deadlines, resources, tasks list,
     profile editor.
  5. **Chatbot**: supports Q&A, ideation and profile feedback; stores
     conversation history.

# Example component pattern

Use functional components and React hooks.  Here is a simple server
component for a page that imports a shadcn `Button` component and
applies Tailwind classes:

```tsx
// app/page.tsx
import { Button } from '@/components/ui/button';

export default function HomePage() {
  return (
    <div className="min-h-screen flex flex-col items-center justify-center gap-4 bg-light-grey">
      <h1 className="text-3xl font-semibold text-dark-grey">Welcome to Leaply</h1>
      <Button className="bg-leaf-green text-white hover:bg-light-green">
        Explore Universities
      </Button>
    </div>
  );
}
```

# Deprecated patterns

- Do **not** use class‑based React components.
- Avoid CSS modules, inline styles and global CSS files beyond
  `globals.css`.  All styling should be via Tailwind or shadcn/ui.
- Do not call external APIs in the demo; instead use mocked data
  initialised in Zustand stores or static JSON.

# Verification steps

After generating code or making edits, ensure the following:
1. Components adhere to the tech stack and follow the file structure.
2. Colours and spacing conform to the Leaply colour palette and
   accessibility guidelines.
3. Pages implement the defined user flow (landing → onboarding →
   universities → dashboard → chatbot).
4. No class components, inline styles or CSS modules are introduced.
5. When adding new screens, update the corresponding documentation in
   `docs/` (feature-spec, data-requirements, technical-guidelines).

# Additional resources

Refer to the following internal documentation when working on this
project:
- **docs/technical-guidelines.md**: detailed coding conventions and
  performance considerations.
- **docs/feature-spec.md**: description of each screen and flow.
- **docs/data-requirements.md**: data fields needed per page.
- **docs/colors.md**: official colour palette.
